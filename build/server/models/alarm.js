// Generated by CoffeeScript 1.7.1
var Alarm, americano;

americano = require('americano-cozy');

module.exports = Alarm = americano.getModel('Alarm', {
  id: String,
  caldavuri: String,
  trigg: String,
  description: String,
  timezone: String,
  action: {
    type: String,
    "default": 'DISPLAY'
  },
  related: {
    type: String,
    "default": null
  }
});

require('cozy-ical').decorateAlarm(Alarm);

Alarm.all = function(cb) {
  return Alarm.request('byURI', cb);
};

Alarm.byURI = function(uri, cb) {
  var req;
  req = Alarm.request('byURI', null, cb);
  req.body = JSON.stringify({
    key: uri
  });
  return req.setHeader('content-type', 'application/json');
};
